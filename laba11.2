#include<iostream>
#include<string>
#include<fstream> 

using namespace std;

int main()
{
    setlocale(LC_ALL, "ru");

    int sum1 = 0;
    int sum2 = 0;
    int sum3 = 0;
    int sum4 = 0;

    while (true) {
        int v;
        cout << "1-записать в файл" << endl;
        cout << "2-прочитать 1ый файл" << endl;
        cout << "3-записать 2ой файл" << endl;
        cout << "4-прочитать 2ой файл" << endl;
        cout << "5-посчитать сумму положительных чисел в 2ух файлах" << endl;
        cout << "6-посчитать сумму без чтения" << endl;
        cout << "7-посчитать сумму через первую кнопку" << endl;
        cout << "8-посчитать сумму через третью кнопку" << endl;
        cout << "0-выход" << endl;
        cin >> v;
        if (v == 1) {
            string name;
            cout << "введите название файла" << endl;
            cin >> name;
            ofstream f;
            f.open(name);
            if (!f.is_open()) {
                cout << "error" << endl;
            }
            else {
                cout << "файл открыт" << endl;
                int x;
                cout << "сколько чисел вы хотите записать?" << endl;
                cin >> x;
                for (int i = 0; i < x; i++) {
                    int y;
                    cout << "введите число: " << i + 1 << endl;
                    cin >> y;
                    f << y << " ";
                    if (y > 0) {
                        sum3+=y;
                    }
                
                }
            }
            f.close();
        }
        if (v == 2) {
            string name;
            cout << "введите название созданного файла" << endl;
            cin >> name;
            ifstream f1;
            f1.open(name);
            if (!f1.is_open()) {
                cout << "error" << endl;
            }
            else {
                cout << "Файл открыт" << endl;
                double read;
                while (f1 >> read) {
                    if (read > 0) {
                        sum1 += read;
                    }
                    cout << read << endl;
                }
                cout << endl;
                cout << "сумма в данном файле: " << sum1 << endl;
                cout << endl;
            }
            f1.close();
        }


        if (v == 3) {
            string name;
            cout << "введите название 2-го файла" << endl;
            cin >> name;
            ofstream f2;
            f2.open(name);
            if (!f2.is_open()) {
                cout << "error" << endl;
            }
            else {
                cout << "Файл открыт" << endl;
                int x1;
                cout << "сколько числе вы хотите записать" << endl;
                cin >> x1;
                for (int i = 0; i < x1; i++) {
                    int y1;
                    cout << "введите число: " << i + 1 << endl;
                    cin >> y1;
                    f2 << y1 << " ";
                    if (y1 > 0) {
                        sum4+=y1;
                    }
                }
            }
            f2.close();
        }
        if (v == 4) {
            string name;
            cout << "введите название 2-го файла для чтения" << endl;
            cin >> name;
            ifstream f4;
            f4.open(name);
            if (!f4.is_open()) {
                cout << "error" << endl;
            }
            else {
                cout << "Файл открыт" << endl;
                double read1;
                while (f4 >> read1) {
                    if (read1 > 0) {
                        sum2 += read1;
                    }
                    cout << read1 << endl;
                }
                cout << endl;
                cout << "сумма в данном файле: " << sum2 << endl;
                cout << endl;
            }
            f4.close();
        }
        if (v == 5) {
            cout << "сумма = " << (sum1 + sum2) << endl;;
       }
        if (v == 6) {
            cout << "сумма без чтения = "<< (sum3+sum4) <<endl;
        }
        if (v == 7) {
            int v2;
            cout << "введите 1 из вариантов" << endl;
            cout << "1-с чтением" << endl;
            cout << "2-без чтением" << endl;
            cin >> v2;
            if (v2 == 1) {
                cout << "сумма с чтением: " << sum1+sum2 << endl;

            }
            if (v2 == 2) {
                cout << "сумма без чтения" << sum3+sum4 << endl;
            }
        }
        if (v == 8) {
            int v3;
            cout << "введите 1 из вариантов" << endl;
            cout << "1-с чтением" << endl;
            cout << "2-без чтением" << endl;
            cin >> v3;
            if (v3 == 1) {
                cout << "сумма с чтением: "<< sum2+sum1 << endl;
            }
            if (v3 == 2) {
                cout << "сумма без чтения: " << sum4+sum3 << endl;
            }
        }
        if (v == 0) {
            cout << "работа завершена" << endl;
            break;
        }
        else  {
            cout << " " << endl;
            continue;
        }
    }
    return 0;
}
